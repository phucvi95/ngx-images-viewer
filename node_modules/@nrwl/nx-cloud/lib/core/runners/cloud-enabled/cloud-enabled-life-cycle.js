const a0_0x7e71=['local-cache-hit','scheduleTask','startTask','cacheableOperations','runtime','CloudEnabledLifeCycle','startsWith','obfuscate','task','cache','skipNxCache','updateStartedTask','scheduledTasks','remote-cache-hit','cleanUpHashDetails','find','endCommand','cacheStatus','project','collectTerminalOutput','terminalOutput','forEach','target','code','statuses','../../../utilities/nx-imports','local-cache','outputObfuscator','status','indexOf','npm:','tasks','toISOString','../../../utilities/serializer-overrides','push','local-cache-kept-existing','endTask','endTime','Cannot\x20find\x20task\x20','hashDetails','runContext','defineProperty','nodes','filter','serializeOverrides','params','cacheDirectory','remote-cache','getTerminalOutput','hash','keys'];(function(_0x15365b,_0x7e7151){const _0x37527a=function(_0x422227){while(--_0x422227){_0x15365b['push'](_0x15365b['shift']());}};_0x37527a(++_0x7e7151);}(a0_0x7e71,0xbd));const a0_0x3752=function(_0x15365b,_0x7e7151){_0x15365b=_0x15365b-0x0;let _0x37527a=a0_0x7e71[_0x15365b];return _0x37527a;};'use strict';Object[a0_0x3752('0x5')](exports,'__esModule',{'value':!![]});exports[a0_0x3752('0x14')]=void 0x0;const serializer_overrides_1=require(a0_0x3752('0x30'));const read_task_terminal_output_1=require('../../terminal-output/read-task-terminal-output');const {workspaceRoot}=require(a0_0x3752('0x28'));class CloudEnabledLifeCycle{constructor(_0x43577f,_0x1dbb90,_0x4000a0,_0x7fa86d,_0x24ba11,_0x4abf3a,_0x488bab){this['runContext']=_0x43577f;this[a0_0x3752('0xa')]=_0x1dbb90;this['skipNxCache']=_0x4000a0;this[a0_0x3752('0x22')]=_0x7fa86d;this['cacheableOperations']=_0x24ba11;this[a0_0x3752('0x2a')]=_0x4abf3a;this[a0_0x3752('0x2e')]=_0x488bab;}[a0_0x3752('0x10')](_0x693ffd){this[a0_0x3752('0x4')][a0_0x3752('0x1b')]['push'](_0x693ffd);}[a0_0x3752('0x11')](_0x343565){this[a0_0x3752('0x2e')][a0_0x3752('0x31')]({'taskId':_0x343565['id'],'startTime':new Date()[a0_0x3752('0x2f')](),'target':_0x343565[a0_0x3752('0x25')][a0_0x3752('0x25')],'projectName':_0x343565[a0_0x3752('0x25')][a0_0x3752('0x21')],'hash':_0x343565[a0_0x3752('0xd')],'hashDetails':this['cleanUpHashDetails'](_0x343565[a0_0x3752('0x3')]),'params':(0x0,serializer_overrides_1[a0_0x3752('0x8')])(_0x343565)});}[a0_0x3752('0x0')](_0x585115,_0x3e633e){let _0x3bf9a6;if(this[a0_0x3752('0x4')]['statuses'][_0x585115[a0_0x3752('0xd')]]){_0x3bf9a6=this['runContext'][a0_0x3752('0x27')][_0x585115['hash']];}else{if(this[a0_0x3752('0x12')][a0_0x3752('0x2c')](_0x585115[a0_0x3752('0x25')]['target'])>-0x1&&!this[a0_0x3752('0x19')]){_0x3bf9a6=a0_0x3752('0xf');}else{_0x3bf9a6='cache-miss';}}this[a0_0x3752('0x1a')](_0x585115,_0x3e633e,_0x3bf9a6);}['endTasks'](_0x26045d){for(let _0x52bab4 of _0x26045d){let _0x231539;const _0x1962dc=_0x52bab4[a0_0x3752('0x2b')]===a0_0x3752('0xb');const _0xd94045=_0x52bab4['status']===a0_0x3752('0x18');const _0x577f24=_0x52bab4['status']===a0_0x3752('0x29')||_0x52bab4['status']===a0_0x3752('0x32')||_0xd94045;if(this[a0_0x3752('0x4')]['statuses'][_0x52bab4[a0_0x3752('0x17')]['hash']]){_0x231539=this[a0_0x3752('0x4')][a0_0x3752('0x27')][_0x52bab4['task'][a0_0x3752('0xd')]];}else if(_0x1962dc){_0x231539=a0_0x3752('0x1c');}else if(_0x577f24){_0x231539=a0_0x3752('0xf');}else{if(this[a0_0x3752('0x12')]['indexOf'](_0x52bab4[a0_0x3752('0x17')][a0_0x3752('0x25')][a0_0x3752('0x25')])>-0x1&&!this[a0_0x3752('0x19')]){_0x231539='local-cache-hit';}else{_0x231539='cache-miss';}}this['updateStartedTask'](_0x52bab4['task'],_0x52bab4[a0_0x3752('0x26')],_0x231539);}}[a0_0x3752('0x1f')](){}[a0_0x3752('0x1a')](_0x1eae2d,_0x15efa7,_0x5c9006){const _0x5884a0=this['tasks'][a0_0x3752('0x1e')](_0x58584b=>_0x58584b['taskId']===_0x1eae2d['id']);if(!_0x5884a0){throw new Error(a0_0x3752('0x2')+_0x1eae2d['id']);}_0x5884a0[a0_0x3752('0x1')]=new Date()[a0_0x3752('0x2f')]();_0x5884a0[a0_0x3752('0x2b')]=_0x15efa7;_0x5884a0['params']=this[a0_0x3752('0x2a')][a0_0x3752('0x16')](_0x5884a0[a0_0x3752('0x9')]);_0x5884a0[a0_0x3752('0x20')]=_0x5c9006;if(this['collectTerminalOutput']){_0x5884a0[a0_0x3752('0x23')]=this['getTerminalOutput'](_0x1eae2d[a0_0x3752('0xd')],_0x5884a0[a0_0x3752('0x20')],_0x15efa7);}}[a0_0x3752('0xc')](_0xbf1c60,_0x2209b8,_0x178fcb){return(0x0,read_task_terminal_output_1['readTaskTerminalOutput'])(this[a0_0x3752('0xa')],this[a0_0x3752('0x2a')],_0xbf1c60,_0x2209b8,_0x178fcb);}[a0_0x3752('0x1d')](_0x116b8e){const _0x4b298e={};Object[a0_0x3752('0xe')](_0x116b8e[a0_0x3752('0x6')])[a0_0x3752('0x7')](_0x4635a1=>!_0x4635a1[a0_0x3752('0x15')](a0_0x3752('0x2d')))[a0_0x3752('0x24')](_0x3c4629=>{_0x4b298e[_0x3c4629]=_0x116b8e[a0_0x3752('0x6')][_0x3c4629];});return{'nodes':_0x4b298e,'runtime':_0x116b8e[a0_0x3752('0x13')],'implicitDeps':_0x116b8e['implicitDeps']};}}exports['CloudEnabledLifeCycle']=CloudEnabledLifeCycle;