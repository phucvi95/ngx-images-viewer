const a5_0x4d4a=['DistributedAgentApi','recordMetric','agentName','Completed\x20run\x20group\x20with\x20an\x20error','mapRespToPerfEntry','/nx-cloud/executions/tasks','RUNNER_FAILURE_PERF_ENTRY','note','__esModule','__awaiter','createMetricRecorder','../../../utilities/nx-imports','throw','/nx-cloud/executions/complete-run-group','tasks','done','next','apply','runGroup:\x20','VERBOSE_LOGGING','../../../utilities/axios','response','value','createApiAxiosInstance','apiAxiosInstance','axiosException','completeRunGroup','../../../utilities/metric-logger','Completing\x20run\x20group\x20with\x20an\x20error','error','runGroup'];(function(_0x165e11,_0x4d4a14){const _0xbcb0bb=function(_0x420db5){while(--_0x420db5){_0x165e11['push'](_0x165e11['shift']());}};_0xbcb0bb(++_0x4d4a14);}(a5_0x4d4a,0xc2));const a5_0xbcb0=function(_0x165e11,_0x4d4a14){_0x165e11=_0x165e11-0x0;let _0xbcb0bb=a5_0x4d4a[_0x165e11];return _0xbcb0bb;};'use strict';var __awaiter=this&&this[a5_0xbcb0('0x1')]||function(_0x1d885b,_0x2db1ac,_0x35c639,_0x3584ba){function _0x3d25a9(_0x1091d7){return _0x1091d7 instanceof _0x35c639?_0x1091d7:new _0x35c639(function(_0x550c47){_0x550c47(_0x1091d7);});}return new(_0x35c639||(_0x35c639=Promise))(function(_0x1e12e2,_0x49bc8d){function _0x492c5c(_0xe21602){try{_0x208756(_0x3584ba['next'](_0xe21602));}catch(_0x4d80fa){_0x49bc8d(_0x4d80fa);}}function _0x5ad1ae(_0x3adf7e){try{_0x208756(_0x3584ba[a5_0xbcb0('0x4')](_0x3adf7e));}catch(_0xab29b5){_0x49bc8d(_0xab29b5);}}function _0x208756(_0x355978){_0x355978[a5_0xbcb0('0x7')]?_0x1e12e2(_0x355978['value']):_0x3d25a9(_0x355978[a5_0xbcb0('0xe')])['then'](_0x492c5c,_0x5ad1ae);}_0x208756((_0x3584ba=_0x3584ba[a5_0xbcb0('0x9')](_0x1d885b,_0x2db1ac||[]))[a5_0xbcb0('0x8')]());});};Object['defineProperty'](exports,a5_0xbcb0('0x0'),{'value':!![]});exports[a5_0xbcb0('0x17')]=void 0x0;const axios_1=require(a5_0xbcb0('0xc'));const environment_1=require('../../../utilities/environment');const metric_logger_1=require(a5_0xbcb0('0x13'));const {output}=require(a5_0xbcb0('0x3'));class DistributedAgentApi{constructor(_0x484ae6,_0x59a5fe,_0x4e4467){this['runGroup']=_0x59a5fe;this[a5_0xbcb0('0x19')]=_0x4e4467;this[a5_0xbcb0('0x10')]=(0x0,axios_1[a5_0xbcb0('0xf')])(_0x484ae6);}[a5_0xbcb0('0x6')](_0x1f5b3f,_0x9ab021,_0x11174f){var _0x4574ea;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3657ed=(0x0,metric_logger_1[a5_0xbcb0('0x2')])('dtePollTasks');try{const _0x130e56=yield(0x0,axios_1['axiosMultipleTries'])(()=>this[a5_0xbcb0('0x10')]['post'](a5_0xbcb0('0x1c'),{'runGroup':this['runGroup'],'agentName':this[a5_0xbcb0('0x19')],'executionId':_0x1f5b3f,'statusCode':_0x9ab021,'completedTasks':_0x11174f}));_0x3657ed[a5_0xbcb0('0x18')]((0x0,metric_logger_1[a5_0xbcb0('0x1b')])(_0x130e56));return _0x130e56['data'];}catch(_0x4c7a16){_0x3657ed[a5_0xbcb0('0x18')](((_0x4574ea=_0x4c7a16===null||_0x4c7a16===void 0x0?void 0x0:_0x4c7a16[a5_0xbcb0('0x11')])===null||_0x4574ea===void 0x0?void 0x0:_0x4574ea[a5_0xbcb0('0xd')])?(0x0,metric_logger_1[a5_0xbcb0('0x1b')])(_0x4c7a16['axiosException']['response']):metric_logger_1[a5_0xbcb0('0x1d')]);throw _0x4c7a16;}});}['completeRunGroupWithError'](_0xffe6e3){var _0x2a1155;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a5_0xbcb0('0xb')]){output[a5_0xbcb0('0x1e')]({'title':a5_0xbcb0('0x14'),'bodyLines':[a5_0xbcb0('0xa')+this[a5_0xbcb0('0x16')],'error:\x20'+_0xffe6e3]});}const _0x1de962=(0x0,metric_logger_1[a5_0xbcb0('0x2')])(a5_0xbcb0('0x12'));try{const _0x5293d7=yield(0x0,axios_1['axiosMultipleTries'])(()=>this[a5_0xbcb0('0x10')]['post'](a5_0xbcb0('0x5'),{'runGroup':this[a5_0xbcb0('0x16')],'agentName':this['agentName'],'criticalErrorMessage':_0xffe6e3}));if(environment_1[a5_0xbcb0('0xb')]){output[a5_0xbcb0('0x1e')]({'title':a5_0xbcb0('0x1a')});}_0x1de962['recordMetric']((0x0,metric_logger_1['mapRespToPerfEntry'])(_0x5293d7));}catch(_0x491916){_0x1de962[a5_0xbcb0('0x18')](((_0x2a1155=_0x491916===null||_0x491916===void 0x0?void 0x0:_0x491916[a5_0xbcb0('0x11')])===null||_0x2a1155===void 0x0?void 0x0:_0x2a1155[a5_0xbcb0('0xd')])?(0x0,metric_logger_1[a5_0xbcb0('0x1b')])(_0x491916[a5_0xbcb0('0x11')]['response']):metric_logger_1[a5_0xbcb0('0x1d')]);console[a5_0xbcb0('0x15')](_0x491916);}});}}exports['DistributedAgentApi']=DistributedAgentApi;